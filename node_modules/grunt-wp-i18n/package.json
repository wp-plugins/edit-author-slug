{
  "name": "grunt-wp-i18n",
  "description": "Internationalize WordPress themes and plugins.",
  "version": "0.4.7",
  "homepage": "https://github.com/blazersix/grunt-wp-i18n",
  "author": {
    "name": "Brady Vercher",
    "email": "brady@blazersix.com",
    "url": "http://www.blazersix.com/"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/blazersix/grunt-wp-i18n.git"
  },
  "bugs": {
    "url": "https://github.com/blazersix/grunt-wp-i18n/issues"
  },
  "licenses": [
    {
      "type": "MIT",
      "url": "https://github.com/blazersix/grunt-wp-i18n/blob/master/LICENSE-MIT"
    }
  ],
  "engines": {
    "node": ">= 0.8.0"
  },
  "scripts": {
    "test": "grunt test"
  },
  "dependencies": {
    "async": "~0.2.10",
    "gettext-parser": "~0.2.0",
    "grunt": "~0.4.2",
    "underscore": "~1.5.2",
    "underscore.string": "~2.3.3"
  },
  "devDependencies": {
    "grunt": "~0.4.2",
    "grunt-contrib-clean": "~0.5.0",
    "grunt-contrib-copy": "~0.5.0",
    "grunt-contrib-jshint": "~0.8.0",
    "grunt-contrib-nodeunit": "~0.2.0"
  },
  "peerDependencies": {
    "grunt": "~0.4.0"
  },
  "keywords": [
    "gruntplugin",
    "wordpress",
    "i18n",
    "translation"
  ],
  "readme": "# grunt-wp-i18n [![Build Status](https://travis-ci.org/blazersix/grunt-wp-i18n.png?branch=develop)](https://travis-ci.org/blazersix/grunt-wp-i18n)\r\n\r\n> Internationalize WordPress plugins and themes.\r\n\r\nWordPress has a robust suite of tools to help internationalize plugins and themes. This plugin brings the power of those existing tools to Grunt in order to make it easy for you to automate the i18n process and make your projects more accessible to an international audience.\r\n\r\nIf you're not familiar with i18n concepts, read the Internationalization entries in the [Plugin Developer Handbook](http://make.wordpress.org/docs/plugin-developer-handbook/plugin-components/internationalization/) or [Theme Developer Handbook](http://make.wordpress.org/docs/theme-developer-handbook/theme-functionality/internationalization/).\r\n\r\n\r\n## Getting Started\r\n\r\nIf you haven't used [Grunt](http://gruntjs.com/) before, be sure to check out the [Getting Started](http://gruntjs.com/getting-started) guide, as it explains how to create a [Gruntfile](http://gruntjs.com/sample-gruntfile) as well as install and use Grunt plugins. Once you're familiar with that process, you may install this plugin with this command:\r\n\r\n```shell\r\nnpm install grunt-wp-i18n --save-dev\r\n```\r\n\r\nOnce the plugin has been installed, it may be enabled inside your Gruntfile with this line of JavaScript:\r\n\r\n```js\r\ngrunt.loadNpmTasks( 'grunt-wp-i18n' );\r\n```\r\n\r\n### Requirements\r\n\r\n* This plugin requires Grunt `~0.4.0`.\r\n* [PHP CLI](http://www.php.net/manual/en/features.commandline.introduction.php) must be in your system path.\r\n\r\n\r\n## Tasks\r\n\r\nThis plugin consists of two configurable tasks:\r\n\r\n* [makepot](#makepot-task) - Generate a POT file.\r\n* [addtextdomain](#addtextdomain-task) - Add a text domain to gettext functions.\r\n\r\n\r\n## Makepot task\r\n\r\nGenerate a POT file for translators to use when translating your plugin or theme.\r\n\r\n_Run this task with the `grunt makepot` command._\r\n\r\n\r\n### Overview\r\n\r\nIn your project's Gruntfile, add a section named `makepot` to the data object passed into `grunt.initConfig()`.\r\n\r\n```js\r\ngrunt.initConfig({\r\n    makepot: {\r\n        target: {\r\n            options: {\r\n                cwd: '',              // Directory of files to internationalize.\r\n                domainPath: '',       // Where to save the POT file.\r\n                exclude: [],          // List of files or directories to ignore.\r\n                include: [],          // List of files or directories to include.\r\n                i18nToolsPath: '',    // Path to the i18n tools directory.\r\n                mainFile: '',         // Main project file.\r\n                potComments: '',      // The copyright at the beginning of the POT file.\r\n                potFilename: '',      // Name of the POT file.\r\n                potHeaders: {},       // Headers to add to the generated POT file.\r\n                processPot: null,     // A callback function for manipulating the POT file.\r\n                type: 'wp-plugin',    // Type of project (wp-plugin or wp-theme).\r\n                updateTimestamp: true // Whether the POT-Creation-Date should be updated without other changes.\r\n            }\r\n        }\r\n    }\r\n});\r\n```\r\n\r\n### Options\r\n\r\n#### options.cwd\r\nType: `String`  \r\nDefault value: `''`  \r\nExample value: `'release'`\r\n\r\nThe directory that should be internationalized. Defaults to the project root, but can be set to a subdirectory, for instance, when being used in a build process. Should be relative to the project root.\r\n\r\n#### options.domainPath\r\nType: `String`  \r\nDefault value: `''`  \r\nExample value: `'/languages'`\r\n\r\nThe directory where the POT file should be saved. Defaults to the value from the \"Domain Path\" header if it exists.\r\n\r\n#### options.exclude\r\nType: `String`  \r\nDefault value: `[]`  \r\nExample value: `['subdir/.*']`\r\n\r\nList of files or directories to ignore when generating the POT file. Note that the globbing pattern is a basic PHP [regular expression](https://github.com/blazersix/grunt-wp-i18n/blob/develop/vendor/wp-i18n-tools/extract.php#L66).\r\n\r\n#### options.include\r\nType: `String`\r\nDefault value: `[]`\r\nExample value: `['subdir/.*']`\r\n\r\nList of files or directories to include when generating the POT file. Note that the globbing pattern is a basic PHP [regular expression](https://github.com/blazersix/grunt-wp-i18n/blob/develop/vendor/wp-i18n-tools/extract.php#L66)\r\n\r\n#### options.i18nToolsPath\r\nType: `String`\r\n\r\nPath to a local copy of the WordPress i18n tools. May be relative to the project or an absolute path. Defaults to a bundled version of the i18n tools.\r\n\r\n#### options.mainFile\r\nType: `String`  \r\nDefault value: `''`  \r\nExample value: `'plugin-slug.php'` or `'style.css'`\r\n\r\nName of the main project file where the headers can be found. In themes, this will default to `style.css`. An attempt will be made to auto-discover the main file for plugins, but specifying it here can improve performance and will help disambiguate between multiple plugin files in the same project.\r\n\r\n#### options.potComments\r\nType: `String`  \r\nExample value: `'Custom Copyright (c) {{year}}'`\r\n\r\nComment at the beginning of the POT file. Defaults to the copyright message generated by makepot.php. Use `\\n` for newlines and `{{year}}` to insert the current year.\r\n\r\n#### options.potFilename\r\nType: `String`  \r\nDefault value: `''`  \r\nExample value: `'plugin-or-theme-slug.pot'`\r\n\r\nName of the POT file. Defaults to the \"Text Domain\" header if it exists, otherwise uses the project directory name.\r\n\r\n#### options.potHeaders\r\nType: `Object`  \r\nExample value: `{ 'report-msgid-bugs-to': 'https://github.com/blazersix/grunt-wp-i18n/issues' }`\r\n\r\nList of headers to add to the POT file in the form of key-value pairs.\r\n\r\n#### options.processPot\r\nType: `Function( pot, options )`  \r\nDefault value: `null`\r\n\r\nA callback function for advanced manipulation of the POT file after it's generated.\r\n\r\n#### options.type\r\nType: `String`\r\nDefault value: `'wp-plugin'`  \r\nExample value: `'wp-plugin'` or `'wp-theme'`\r\n\r\nThe type of project.\r\n\r\n#### options.updateTimestamp\r\nType: `Boolean`  \r\nDefault value: `true`\r\n\r\nWhether the `POT-Creation-Date` header should be updated if no other changes to the POT file are detected.\r\n\r\n\r\n### Usage Examples\r\n\r\n#### Default Options\r\n\r\nAll options are optional, but at the very least a target needs to exist, so at a minimum, set an option specifying the type of project.\r\n\r\n```js\r\ngrunt.initConfig({\r\n    makepot: {\r\n        target: {\r\n            options: {\r\n                type: 'wp-plugin'\r\n            }\r\n        }\r\n    }\r\n});\r\n```\r\n\r\n#### Custom Options\r\n\r\nIf using with a custom build process, the following config would process strings in the `/release` subdirectory and save the POT file at `/release/languages/plugin-slug.pot`.\r\n\r\n```js\r\ngrunt.initConfig({\r\n    makepot: {\r\n        target: {\r\n            options: {\r\n                cwd: 'release'\r\n                domainPath: '/languages',\r\n                mainFile: 'plugin-slug.php',\r\n                potFilename: 'plugin-slug.pot',\r\n                processPot: function( pot, options ) {\r\n                    pot.headers['report-msgid-bugs-to'] = 'http://example.com/issues';\r\n                    pot.headers['language-team'] = 'Team Name <team@example.com>';\r\n                    return pot;\r\n                },\r\n                type: 'wp-plugin'\r\n            }\r\n        }\r\n    }\r\n});\r\n```\r\n\r\n## Addtextdomain task\r\n\r\nAdd the text domain to gettext functions in your plugin or theme.\r\n\r\n**Warning:** This task will overwrite files in your project. Be sure to have a backup or commit any changes before running it. Viewing a diff after the task has run is a good way to verify any changes.\r\n\r\n_Run this task with the `grunt addtextdomain` command._\r\n\r\n### Overview\r\n\r\nIn your project's Gruntfile, add a section named `addtextdomain` to the data object passed into `grunt.initConfig()`.\r\n\r\n```js\r\ngrunt.initConfig({\r\n    addtextdomain: {\r\n        options: {\r\n            i18nToolsPath: '', // Path to the i18n tools directory.\r\n            textdomain: '',    // Project text domain.\r\n            updateDomains: []  // List of text domains to replace.\r\n        },\r\n        target: {\r\n            files: {}\r\n        }\r\n    }\r\n});\r\n```\r\n\r\n### Options\r\n\r\n#### options.i18nToolsPath\r\nType: `String`\r\n\r\nPath to a local copy of the WordPress i18n tools. May be relative to the project or an absolute path. Defaults to a bundled version of the i18n tools.\r\n\r\n#### options.textdomain\r\nType: `String`  \r\nDefault value: `''`  \r\nExample value: `'plugin-or-theme-slug'`\r\n\r\nDefaults to the \"Text Domain\" header if it exists, otherwise uses the project directory name.\r\n\r\n#### options.updateDomains\r\nType: `Array`  \r\nDefault value: `[]`  \r\nExample value: `[ 'original-domain', 'vendor-domain' ]`\r\n\r\nA list of text domains to replace with the new text domain.\r\n\r\n\r\n### Usage Examples\r\n\r\nOptions may be specified at the task or target level, but are optional. Each target must define the files that should be operated on. It's not necessary to declare a destination since the files will be updated in place.\r\n\r\n```js\r\ngrunt.initConfig({\r\n    addtextdomain: {\r\n        target: {\r\n            files: {\r\n                src: [ '*.php', '**/*.php', '!node_modules/**', '!tests/**' ]\r\n            }\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nThis task supports the file mapping format Grunt supports. Please read [Globbing patterns](http://gruntjs.com/configuring-tasks#globbing-patterns) and [Building the files object dynamically](http://gruntjs.com/configuring-tasks#building-the-files-object-dynamically) for additional details.\r\n\r\n\r\n## Local Config\r\n\r\nOptions defined in Gruntfile.js are shared between anyone working on a project, however, developers may wish to save their i18n tools in a custom location. To do so, add the `i18nToolsPath` in a `config.json` file in the project directory. This file may contain other local configuration options or sensitive data, so it should not be checked in to version control.\r\n\r\n```json\r\n{\r\n    \"i18nToolsPath\": \"/path/to/i18n-tools/\"\r\n}\r\n```\r\n\r\n\r\n## Release History\r\n\r\n#### 0.4.7\r\n\r\n* Added an `includes` option for the `makepot` task to specify which files should be scanned. Props [@claudiosmweb](https://github.com/claudiosmweb).\r\n* Added an `updateDomains` option for the `addtextdomain` task to allow a list of specified text domains to be replaced with a new text domain.\r\n\r\n#### 0.4.6\r\n\r\n* Fixed an issue with replacing comment headers when using external i18n tools.\r\n\r\n#### 0.4.5\r\n\r\n* Introduced the `potHeaders` option for defining headers without using the `processPot` callback.\r\n* Added an X-Generator header.\r\n* Added a method to fix case-sensitive Poedit headers.\r\n* Changed `date()` calls to `gmdate()` in the PHP tools to prevent error messages when date.timezone isn't set in php.ini.\r\n\r\n#### 0.4.4\r\n\r\n* Added the `potComments` option to change the copyright message.\r\n* Added the `updateTimestamp` option to prevent the `POT-Creation-Header` from being updated if there aren't any other changes in the POT file.\r\n* Updated the addtextdomain task to adhere to the WordPress coding standards when inserting a text domain. Props [@GaryJones](https://github.com/GaryJones).\r\n\r\n#### 0.4.3\r\n\r\n* Re-tag updates from 0.4.2 that didn't get added to the release.\r\n\r\n#### 0.4.2\r\n\r\n* Added the `processPot` option to specify a callback for advanced manipulation of the POT file after it's been generated.\r\n\r\n#### 0.4.1\r\n\r\n* Cleaned up strict errors and applied basic coding standards to the WP i18n tools. Props [@grappler](https://github.com/grappler).\r\n* Incorporated upstream improvements for finding the main plugin file.\r\n\r\n#### 0.4.0\r\n\r\n* Added an `exclude` option to ignore strings in specified directories or files.\r\n* Set the current working directory based on the `cwd` option. All options should be relative to `cwd`.\r\n* Fixed the searching process in `wordpress.getMainFile()` if the standard main file can't be found.\r\n* Attempt to prevent an error in the CLI tools if the main plugin file name doesn't match the guessed slug.\r\n* Added some basic tests.\r\n\r\n#### 0.3.1\r\n\r\n* Fixed a bug where the text domain wasn't properly guessed in subdirectories if the Text Domain header didn't exist.\r\n* Moved all the makepot functionality into a single task.\r\n\r\n#### 0.3.0\r\n\r\n* Added the `addtextdomain` task.\r\n\r\n#### 0.2.0\r\n\r\n* Forked and bundled the WordPress i18n tools so they no longer need to be downloaded separately.\r\n* Removed the gettext dependency by relying on the [gettext-parser](https://github.com/andris9/gettext-parser) package to remove duplicate strings in POT files.\r\n* Fixed the wp.slugify() method to properly guess the project slug when in an SVN repo.\r\n\r\n#### 0.1.0\r\n\r\n* Initial release.\r\n",
  "readmeFilename": "README.md",
  "_id": "grunt-wp-i18n@0.4.7",
  "_shasum": "13e9477a9991d7430c2bb885026682b8a8cf512a",
  "_from": "grunt-wp-i18n@~0.4.6",
  "_resolved": "https://registry.npmjs.org/grunt-wp-i18n/-/grunt-wp-i18n-0.4.7.tgz"
}
